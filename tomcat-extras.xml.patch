--- apache-tomcat-6.0.36-src/extras.xml.org	2012-11-19 14:49:48.160094084 +0100
+++ apache-tomcat-6.0.36-src/extras.xml	2012-11-19 14:50:11.987324683 +0100
@@ -108,45 +108,7 @@
     <delete dir="${tomcat.extras}"/>
   </target>
 
-  <target name="commons-logging-prepare"
-          depends="prepare"
-          description="Prepare to build web services extras package">
-
-    <antcall target="downloadfile-2">
-      <param name="sourcefile.1" value="${commons-logging-src.loc.1}"/>
-      <param name="sourcefile.2" value="${commons-logging-src.loc.2}"/>
-      <param name="destfile" value="${commons-logging-src.tar.gz}"/>
-      <param name="destdir" value="${commons-logging.home}"/>
-    </antcall>
-
-    <antcall target="downloadfile">
-      <param name="sourcefile" value="${avalon-framework.loc}"/>
-      <param name="destfile" value="${avalon-framework.jar}"/>
-      <param name="destdir" value="${avalon-framework.home}"/>
-    </antcall>
-
-    <antcall target="downloadfile">
-      <param name="sourcefile" value="${log4j.loc}"/>
-      <param name="destfile" value="${log4j.jar}"/>
-      <param name="destdir" value="${log4j.home}"/>
-    </antcall>
-
-    <antcall target="downloadfile">
-      <param name="sourcefile" value="${logkit.loc}"/>
-      <param name="destfile" value="${logkit.jar}"/>
-      <param name="destdir" value="${logkit.home}"/>
-    </antcall>
-
-    <antcall target="downloadfile">
-      <param name="sourcefile" value="${servletapi.loc}"/>
-      <param name="destfile" value="${servletapi.jar}"/>
-      <param name="destdir" value="${servletapi.home}"/>
-    </antcall>
-
-  </target>
-
   <target name="commons-logging"
-          depends="commons-logging-prepare"
           description="Build JULI for log4j extras package">
 
     <gunzip src="${commons-logging-src.tar.gz}"
@@ -237,18 +199,6 @@
           depends="prepare"
           description="Prepare to build web services extras package">
 
-    <antcall target="downloadfile">
-      <param name="sourcefile" value="${jaxrpc-lib.loc}"/>
-      <param name="destfile" value="${jaxrpc-lib.jar}"/>
-      <param name="destdir" value="${jaxrpc-lib.home}"/>
-    </antcall>
-
-    <antcall target="downloadfile">
-      <param name="sourcefile" value="${wsdl4j-lib.loc}"/>
-      <param name="destfile" value="${wsdl4j-lib.jar}"/>
-      <param name="destdir" value="${wsdl4j-lib.home}"/>
-    </antcall>
-
     <copy file="${jaxrpc-lib.jar}"
           tofile="${tomcat.extras}/webservices/jaxrpc.jar" />
     <copy file="${wsdl4j-lib.jar}"
@@ -340,44 +290,6 @@
     <available file="${destfile}" property="exist"/>
   </target>
 
-  <target name="downloadfile" unless="exist" depends="setproxy,testexist">
-    <!-- Download extract the file -->
-    <mkdir dir="${destdir}" />
-    <get src="${sourcefile}" dest="${destfile}" />
-  </target>
-
-  <target name="downloadfile-2" unless="exist" depends="testexist">
-    <!-- Download the file from the two alternative locations -->
-    <mkdir dir="${destdir}" />
-
-    <antcall target="trydownload">
-      <param name="sourcefile" value="${sourcefile.1}" />
-    </antcall>
-
-    <antcall target="trydownload">
-      <param name="sourcefile" value="${sourcefile.2}" />
-    </antcall>
-
-    <available file="${destfile}" property="exist"/>
-    <fail unless="exist" message="Failed to download [${destfile}]. All download sources are unavailable." />
-  </target>
-
-  <target name="trydownload.check" depends="setproxy">
-    <condition property="trydownload.run">
-      <and>
-        <not>
-          <available file="${destfile}" />
-        </not>
-        <http url="${sourcefile}" />
-      </and>
-    </condition>
-  </target>
-
-  <target name="trydownload" if="trydownload.run" depends="trydownload.check">
-    <!-- Downloads a file if not yet downloaded and the source URL is available -->
-    <get src="${sourcefile}" dest="${destfile}" />
-  </target>
-
   <!-- Helper target, used to create a md5 checksum file  -->
   <!-- Requires 'file' as a parameter. -->
   <target name="md5sum">
